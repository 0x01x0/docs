(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{386:function(r,e,t){"use strict";t.r(e);var a=t(4),n=Object(a.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("p",[r._v("前面的使用方式都是让 Watch­tower 以 detached（后台）模式在运行并自动更新容器，而 Watch­tower 也支持以 foreground（前台）模式来使用，即运行一次退出并删掉容器，来实现手动更新容器。这对于偶尔更新一次那些不在自动更新列表中的容器非常有用。")]),r._v(" "),t("p",[r._v("对于 foreground 模式，需要加上 --run-once 这个专用的选项。下面的例子 Docker 会运行一次 Watch­tower 并检查 aria2-pro 容器的基础镜像更新，最后删掉本次运行创建的 Watch­tower 容器。")]),r._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("docker run --rm \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    containrrr/watchtower -c \\\n    --run-once \\\n    aria2-pro\n")])])]),t("p",[r._v("--run-once 可以简写为 -R：")]),r._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[r._v("docker run --rm \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    containrrr/watchtower -cR \\\n    aria2-pro\n")])])]),t("p",[r._v("需要注意的是当这个容器设置过 com.centurylinklabs.watchtower.enable=false 参数时不会更新。")])])}),[],!1,null,null,null);e.default=n.exports}}]);